<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SteamMate</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="toast-container"></div>

<!-- HEADER -->
<header>
    <div class="logo-container">
        <div class="logo" onclick="isLoggedIn=false; updateInterface()">Steam<span>Mate</span></div>
        <div class="header-stats">
           <div style="width: 8px; height: 8px; background: #2ecc71; border-radius: 50%; box-shadow: 0 0 8px #2ecc71;"></div>
           <span id="online-count">1,245 Online</span>
        </div>
    </div>

    <!-- Навигация -->
    <nav id="header-nav" class="nav-links hidden">
    <!-- Главная -->
    <span id="link-home" class="nav-link active" onclick="switchTab('home')">Home</span>
    
    <!-- Анкеты (Поиск) -->
    <span id="link-search" class="nav-link" onclick="switchTab('search')">Search</span>
    
    <!-- Турниры -->
    <span id="link-tournaments" class="nav-link" onclick="switchTab('tournaments')">Tournaments</span>
    
    <!-- Профиль -->
    <span id="link-profile" class="nav-link" onclick="switchTab('profile')">Profile</span>
</nav>
    <!-- Правые кнопки -->
    <div class="auth-container">
        <button id="header-auth-btn" class="steam-login-btn" onclick="toggleAuth()">
            <i class="fa-brands fa-steam"></i> Login with Steam
        </button>
    </div>
</header>

<!-- 1. PUBLIC LANDING -->
<div id="public-landing">
    <section class="hero">
        <h1>Your perfect squad<br>starts here.</h1>
        <p>Stop playing with randoms. Find teammates by rank and vibe.</p>
        <div style="display: flex; justify-content: center; gap: 20px;">
            <button class="cta-btn" onclick="redirectToReg()">Find Teammate</button>
            <button class="cta-btn outline" onclick="redirectToReg()">Join Tournaments</button>
        </div>
    </section>

    <div class="landing-container">
        <main style="margin-top: 0;"> 
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="color: var(--text-muted); margin: 0;">Recent Profiles</h3>
                <span style="color: var(--primary); cursor: pointer; font-size: 0.9rem;" onclick="redirectToReg()">View All <i class="fa-solid fa-arrow-right"></i></span>
            </div>

            <div id="landing-profiles-list"></div>
            
            <button class="cta-btn outline" style="width: 100%; margin-top: 15px; color: var(--text-muted); border-color: var(--border);" onclick="redirectToReg()">
                Sign up to see more profiles
            </button>
        </main>
        
        <aside style="margin-top: 20px;">
            <div class="tournament-card">
                <div class="badge-live">LIVE</div>
                <h3>Opening Cup #1</h3>
                <div style="color: var(--gold); font-weight: 800; font-size: 1.2rem; margin: 10px 0;">AK-47 | Asiimov</div>
                <img src="img src="https://images.cybersport.ru/images/as-is/plain/61/6113f17f-efbe-44a2-b369-686745ba42a6.png">
                <button class="cta-btn" style="width: 100%; background: var(--gold); color: black; margin-top: 15px;" onclick="redirectToReg()">Participate</button>
            </div>
        </aside>
    </div>
</div>

<!-- 2. APP DASHBOARD -->
<div id="app-dashboard">
    <div id="main-app-grid" class="app-grid full-width">
        
        <!-- Sidebar Left -->
        <aside id="sidebar-left" class="sidebar hidden">
            <div class="panel">
                <div id="menu-search" class="menu-item active" onclick="switchTab('search')">
                    <i class="fa-solid fa-layer-group"></i> Active Search
                </div>
                <div id="menu-matches" class="menu-item" onclick="switchTab('matches')">
                    <i class="fa-solid fa-comments"></i> Matches (0)
                </div>
                <div id="menu-likes" class="menu-item" onclick="switchTab('likes')">
                    <i class="fa-regular fa-heart"></i> Likes (0)
                </div>
            </div>
            <div class="panel">
                <p style="font-size: 0.85rem; color: #777;">My Status:</p>
                <div style="font-weight: bold; color: var(--like);">● Online</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content-area">
            
            <div id="view-home" class="app-view"></div>

            <div id="view-search" class="app-view hidden">
                <div class="card-stack" id="card-container"></div>
            </div>

            <div id="view-matches" class="app-view hidden">
                <div class="empty-state">
                    <i class="fa-solid fa-ghost"></i>
                    <h3>No matches yet</h3>
                    <p>Keep liking profiles, someone will appear here soon!</p>
                </div>
            </div>

            <div id="view-likes" class="app-view hidden">
                <div class="empty-state">
                    <i class="fa-regular fa-face-sad-tear"></i>
                    <h3>No likes yet</h3>
                    <p>It's just a matter of time. Update your profile to boost visibility.</p>
                </div>
            </div>

            <div id="view-tournaments" class="app-view hidden">
                <div style="background: rgba(231, 76, 60, 0.1); border: 1px solid #e74c3c; padding: 20px; border-radius: 12px; margin-bottom: 30px; display: flex; align-items: center; gap: 15px;">
                    <i class="fa-solid fa-circle-exclamation" style="color: #e74c3c; font-size: 1.5rem;"></i>
                    <div>
                        <h3 style="margin: 0; color: #e74c3c;">All slots taken</h3>
                        <p style="margin: 0; color: #aaa; font-size: 0.9rem;">Come back later to grab a slot in the next tournament.</p>
                    </div>
                </div>
                <h2 style="margin-bottom: 20px;">Current Tournaments</h2>
                <div class="tourney-list" id="tourney-list-container"></div>
            </div>

            <!-- PROFILE EDITOR -->
            <div id="view-profile" class="app-view hidden">
                <h2 style="margin-bottom: 20px;">Edit Profile</h2>
                <div class="panel">
                    <div class="photo-upload-container" onclick="triggerPhotoUpload()">
                        <img id="profile-preview" src="https://avatars.akamai.steamstatic.com/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_full.jpg" class="profile-img-preview">
                        <div class="upload-icon"><i class="fa-solid fa-camera"></i></div>
                        <input type="file" id="photo-input" hidden onchange="previewPhoto(this)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Nickname</label>
                        <input type="text" class="form-input" id="input-nick" value="Player_One">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Gender</label>
                        <div class="custom-select-container" id="gender-selector">
                            <div class="select-option selected" onclick="selectOption('gender', 'Male', this)"><i class="fa-solid fa-mars"></i> Male</div>
                            <div class="select-option" onclick="selectOption('gender', 'Female', this)"><i class="fa-solid fa-venus"></i> Female</div>
                        </div>
                        <input type="hidden" id="input-gender" value="Male">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Main Game</label>
                        <div class="custom-select-container" id="game-selector">
                            <div class="select-option selected" onclick="selectOption('game', 'CS2', this)">CS2</div>
                            <div class="select-option" onclick="selectOption('game', 'Dota 2', this)">Dota 2</div>
                            <div class="select-option" onclick="selectOption('game', 'Rust', this)">Rust</div>
                            <div class="select-option" onclick="selectOption('game', 'Deadlock', this)">Deadlock</div>
                        </div>
                        <input type="hidden" id="input-game" value="CS2">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tags (max 3)</label>
                        <div class="tags-container" id="tags-selector"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">About Me (Max 150 chars)</label>
                        <textarea class="form-textarea" id="input-desc" maxlength="150" oninput="updateCharCount(this)">Looking for chill teammates to play in the evening.</textarea>
                        <div id="char-count" style="text-align: right; font-size: 0.8rem; color: #555; margin-top: 5px;">0 / 150</div>
                    </div>
                    
                    <button id="save-btn" class="cta-btn" style="width: 100%;" onclick="saveProfile()">Save Changes</button>
                </div>
            </div>
        </main>

        <!-- Sidebar Right (Filters) -->
        <aside id="sidebar-right" class="sidebar hidden">
            <div class="panel">
                <h3 style="margin-bottom: 15px;">Game</h3>
                <div id="filter-game">
                    <div class="filter-opt selected" data-val="all" onclick="setFilter('game', 'all', this)"><div class="circle"></div> All Games</div>
                    <div class="filter-opt" data-val="CS2" onclick="setFilter('game', 'CS2', this)"><div class="circle"></div> CS2</div>
                    <div class="filter-opt" data-val="Dota 2" onclick="setFilter('game', 'Dota 2', this)"><div class="circle"></div> Dota 2</div>
                    <div class="filter-opt" data-val="Rust" onclick="setFilter('game', 'Rust', this)"><div class="circle"></div> Rust</div>
                    <div class="filter-opt" data-val="Deadlock" onclick="setFilter('game', 'Deadlock', this)"><div class="circle"></div> Deadlock</div>
                </div>

                <h3 style="margin: 20px 0 15px;">Gender</h3>
                <div id="filter-gender">
                    <div class="filter-opt selected" data-val="all" onclick="setFilter('gender', 'all', this)"><div class="circle"></div> Any</div>
                    <div class="filter-opt" data-val="Male" onclick="setFilter('gender', 'Male', this)"><div class="circle"></div> Male</div>
                    <div class="filter-opt" data-val="Female" onclick="setFilter('gender', 'Female', this)"><div class="circle"></div> Female</div>
                </div>
            </div>
        </aside>

    </div>
</div>

<!-- Super Like Modal -->
<div id="super-like-modal" class="modal hidden">
    <div class="modal-content">
        <h3>Super Like <i class="fa-solid fa-star" style="color:var(--gold)"></i></h3>
        <p>Send a message to stand out!</p>
        <textarea id="super-msg" class="form-textarea" placeholder="Hi! Wanna play?"></textarea>
        <div style="display:flex; gap:10px; margin-top:15px;">
            <button class="cta-btn outline" onclick="closeModal()">Cancel</button>
            <button class="cta-btn" onclick="sendSuperLike()">Send</button>
        </div>
    </div>
</div>

<script type="module" src="js/app.js"></script>
</body>
</html>





















